<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simple Clustering — taffy • lusilab</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Simple Clustering — taffy"><meta name="description" content="Clusters columns in a matrix based on a very minimal algorithm:
Start with the column with the biggest sum / smallest other-cluster weight.
Calculate its correlation with all other columns, and use that to define a cluster.
Repeat with all unassigned columns.
taffyInf differs in that it will not eliminate columns from the pool, but will
base the selection of an initial term on the weight across all previously assigned clusters."><meta property="og:description" content="Clusters columns in a matrix based on a very minimal algorithm:
Start with the column with the biggest sum / smallest other-cluster weight.
Calculate its correlation with all other columns, and use that to define a cluster.
Repeat with all unassigned columns.
taffyInf differs in that it will not eliminate columns from the pool, but will
base the selection of an initial term on the weight across all previously assigned clusters."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">lusilab</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/miserman/lusilab/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simple Clustering</h1>
      <small class="dont-index">Source: <a href="https://github.com/miserman/lusilab/blob/HEAD/R/taffy.R" class="external-link"><code>R/taffy.R</code></a></small>
      <div class="d-none name"><code>taffy.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Clusters columns in a matrix based on a very minimal algorithm:</p><ul><li><p>Start with the column with the biggest sum / smallest other-cluster weight.</p></li>
<li><p>Calculate its correlation with all other columns, and use that to define a cluster.</p></li>
<li><p>Repeat with all unassigned columns.</p></li>
</ul><p><code>taffyInf</code> differs in that it will not eliminate columns from the pool, but will
base the selection of an initial term on the weight across all previously assigned clusters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">taffy</span><span class="op">(</span><span class="va">m</span>, k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>, minterm <span class="op">=</span> <span class="fl">2</span>, co <span class="op">=</span> <span class="fl">0.975</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">taffyInf</span><span class="op">(</span><span class="va">m</span>, k <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-m">m<a class="anchor" aria-label="anchor" href="#arg-m"></a></dt>
<dd><p>A numeric matrix with column names.</p></dd>


<dt id="arg-k">k<a class="anchor" aria-label="anchor" href="#arg-k"></a></dt>
<dd><p>Number of clusters to look for. This will be the maximum number for <code>taffy</code>,
which will stop when the number of columns in the cluster is less than <code>minterm</code>.
For <code>taffyInf</code> this will always be the number returned, and columns may repeat between clusters.</p></dd>


<dt id="arg-minterm">minterm<a class="anchor" aria-label="anchor" href="#arg-minterm"></a></dt>
<dd><p>Minimum number of columns a cluster must have to be considered a cluster.</p></dd>


<dt id="arg-co">co<a class="anchor" aria-label="anchor" href="#arg-co"></a></dt>
<dd><p>Quantile-based cutt-off used to assign columns to a cluster.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with vectors of column names (<code>taffy</code>), or a matrix of weights,
with a column for each cluster, and row for each column (<code>taffyInf</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Matrix/man/Matrix.html" class="external-link">Matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  cluster1_term1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cluster1_term2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cluster2_term2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cluster2_term1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cluster3_term1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cluster4_term1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">taffy</span><span class="op">(</span><span class="va">m</span>, co <span class="op">=</span> <span class="fl">.6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cluster1_term1" "cluster1_term2"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "cluster2_term2" "cluster2_term1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">taffyInf</span><span class="op">(</span><span class="va">m</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         1          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cluster1_term1  1.0000000 -1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cluster1_term2  0.5773503 -0.5773503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cluster2_term2 -0.5773503  0.5773503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cluster2_term1 -1.0000000  1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cluster3_term1  0.0000000  0.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cluster4_term1  0.0000000  0.0000000</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">

</div>

<div class="pkgdown-footer-right">

</div>

    </footer></div>





  </body></html>

